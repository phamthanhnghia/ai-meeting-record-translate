<div class="bg-gray-900 min-h-screen text-white flex flex-col items-center p-4 sm:p-8 font-sans">
    <app-header (settingsClicked)="isSettingsOpen.set(true)"></app-header>

    <main class="w-full max-w-5xl bg-gray-800 rounded-2xl shadow-2xl shadow-cyan-500/10 p-6 sm:p-8 flex flex-col">
        <app-language-selector [languages]="languages" [optionalLanguages]="optionalLanguages"
            [sourceLang]="sourceLang()" [targetLang]="targetLang()" [secondaryTargetLang]="secondaryTargetLang()"
            (sourceLangChange)="setSourceLang($event)" (targetLangChange)="setTargetLang($event)"
            (secondaryTargetLangChange)="setSecondaryTargetLang($event)"
            (swapLanguagesEvent)="swapLanguages()"></app-language-selector>

        <app-recording-control [isRecording]="isRecording()" [isRecordingUnsupported]="isRecordingUnsupported()"
            (toggleRecordingEvent)="toggleRecording()"></app-recording-control>

        <app-action-buttons [isTranscriptListEmpty]="isTranscriptListEmpty()"
            (downloadTranscriptsEvent)="downloadTranscripts()"
            (clearTranscriptsEvent)="clearTranscripts()"></app-action-buttons>

        <app-transcript-list [transcripts]="transcripts()" [sourceLang]="sourceLang()" [targetLang]="targetLang()"
            [isRecording]="isRecording()"></app-transcript-list>

        <!-- Error Display -->
        @if(error()) {
        <div class="mt-4 p-4 bg-red-900 border border-red-700 text-red-300 rounded-lg text-center">
            <p>{{ error() }}</p>
        </div>
        }
    </main>

    <app-settings-modal [isOpen]="isSettingsOpen()" (close)="isSettingsOpen.set(false)"></app-settings-modal>
</div>